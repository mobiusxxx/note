# 加速测试

![](https://static.xingzheai.cn/5de7ebb495ff4b94a0a5a70099172ded.png)

测试的时候遇到的问题太多，接下来就给出最终的一个结果：

1.python端和unity端正常通信

单个env，500steps：

| 倍速 | 真实时间/s |
| ---- | ---------- |
| 1    | 165        |
| 2    | 41         |
| 3    | 19         |
| 5    | 13         |
| 10   | 11         |
| 20   | 11         |

可以看出在单个env的情况下，加速最高能加速到11倍左右。

多个env，500steps：

| 倍速 | 真实时间/s |
| ---- | ---------- |
| 1    | 165        |
| 2    | 61         |
| 3    | 57         |
| 5    | 58         |
| 10   | 57         |

这里给出的是2个env的数据，其他多个env规律一样，可以看出来在多env的情况下加速很不明显.



2.python端与unity不等待消息时，unity端send次数的测试（检测t1）

这里测试unity端send次数，是为了去判断，游戏加速的限制是否是因为unity端。如果倍速提升，send次数增加，那么正面unity端加速成功，那么就是python端的限制了加速。

| 倍速 | 1s内send次数 |
| ---- | ------------ |
| 1    | 3.09         |
| 2    | 12.2858      |
| 5    | 25.67        |
| 10   | 27           |
| 50   | 166          |

这个是单个env的情况下，而多个env也是同样的情况。结果表明，unity端加速是正常的。



3.python端不等待消息，unity端正常时的测试（检测t3）

去测试是否因为通信阻塞导致加速限制

2env  500steps：

| 倍速 | 真实时间/s |
| ---- | ---------- |
| 1    | 56         |
| 2    | 56         |
| 3    | 57         |

与正常情况相比，临界值都是56s，这就可以推断出应该是算力限制了加速的峰值。并且在其他多env时也是同样的情况。



4.python端不等待消息且不通过网络，unity端正常的测试（检测t2）

2env 500steps：

| 倍速 | 真实时间/s |
| ---- | ---------- |
| 1    | 29         |
| 2    | 28         |
| 3    | 29         |



结论：通过之前的几轮测试，可以判断出在游戏端加速是能正常实现的，并且数据在两端的通信是没有堵塞的。并且在不通过网络时，这个时间大幅减少，证明是算力限制了加速。我们能加速的部分就是t4部分。

